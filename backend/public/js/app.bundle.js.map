{"version":3,"file":"app.bundle.js","mappings":"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A,GAAAA,kBAAAA;AAGH;AACJ;;AAtU0G;;;;;;;;;;ACtC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;UCnSA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEhDA;UACA;UACA;UACA;UACA","sources":["webpack://template-feo-react-babel/./src/App.ts","webpack://template-feo-react-babel/./src/AppTypes.ts","webpack://template-feo-react-babel/./src/Controller.ts","webpack://template-feo-react-babel/./src/CreatedByPermissionChecker.ts","webpack://template-feo-react-babel/./src/SocketListenerDelegate.ts","webpack://template-feo-react-babel/./src/component/helper/ValidationHelper.ts","webpack://template-feo-react-babel/./src/component/renderer/WorkoutSummaryRenderer.ts","webpack://template-feo-react-babel/./src/component/sidebar/CurrentWorkoutSidebar.ts","webpack://template-feo-react-babel/./src/component/sidebar/ExerciseTypesSidebar.ts","webpack://template-feo-react-babel/./src/component/sidebar/WorkoutSummarySidebar.ts","webpack://template-feo-react-babel/./src/component/view/CurrentWorkoutCompositeView.ts","webpack://template-feo-react-babel/./src/component/view/CurrentWorkoutExercisesView.ts","webpack://template-feo-react-babel/./src/component/view/ExerciseTypesCompositeView.ts","webpack://template-feo-react-babel/./src/component/view/ExerciseTypesViewUsingContext.ts","webpack://template-feo-react-babel/./src/component/view/WorkoutSummaryView.ts","webpack://template-feo-react-babel/./src/component/view/WorkoutsViewUsingContext.ts","webpack://template-feo-react-babel//Users/jimsharples/Development/fitness-tracker/frontend/node_modules/moment/locale|sync|/^\\.\\/.*$/","webpack://template-feo-react-babel/webpack/bootstrap","webpack://template-feo-react-babel/webpack/runtime/chunk loaded","webpack://template-feo-react-babel/webpack/runtime/compat get default export","webpack://template-feo-react-babel/webpack/runtime/define property getters","webpack://template-feo-react-babel/webpack/runtime/hasOwnProperty shorthand","webpack://template-feo-react-babel/webpack/runtime/make namespace object","webpack://template-feo-react-babel/webpack/runtime/node module decorator","webpack://template-feo-react-babel/webpack/runtime/jsonp chunk loading","webpack://template-feo-react-babel/webpack/before-startup","webpack://template-feo-react-babel/webpack/startup","webpack://template-feo-react-babel/webpack/after-startup"],"sourcesContent":["//localStorage.debug = 'linked-controller api-ts exercise-types-view app controller-ts controller-ts-detail api-ts socket-ts user-search user-search-detail list-view-renderer';\n//localStorage.debug = 'collection-view-ts collection-view-ts-detail form-detail-view-renderer linked-controller linked-controller-detail exercise-types-view app validation-manager-rule-failure validation-manager';\n//localStorage.debug = 'validation-manager validation-manager-rule-failure abstract-form-detail-validation';\n\n\nimport {\n    ChatLogsView,\n    ChatRoomsSidebar,\n    ContextualInformationHelper,\n    UnreadMessageCountListener, UserSearchSidebar\n} from \"ui-framework-jps\";\n\nlocalStorage.debug = 'context-helper';\n\nimport debug from 'debug';\ndebug.log = console.info.bind(console);\n\nimport Controller from './Controller';\nimport {API_Config, NAVIGATION, STATE_NAMES} from \"./AppTypes\";\nimport ExerciseTypesSidebar from \"./component/sidebar/ExerciseTypesSidebar\";\nimport {ExerciseTypesCompositeView} from \"./component/view/ExerciseTypesCompositeView\";\nimport WorkoutSummarySidebar from \"./component/sidebar/WorkoutSummarySidebar\";\nimport {WorkoutSummaryView} from \"./component/view/WorkoutSummaryView\";\nimport CurrentWorkoutSidebar from \"./component/sidebar/CurrentWorkoutSidebar\";\nimport {CurrentWorkoutCompositeView} from \"./component/view/CurrentWorkoutCompositeView\";\nimport {WorkoutsViewUsingContext} from \"./component/view/WorkoutsViewUsingContext\";\nimport {BlockedUserView} from \"ui-framework-jps/dist/framework/ui/chat/BlockedUserView\";\nimport {FavouriteUserView} from \"ui-framework-jps/dist/framework/ui/chat/FavouriteUserView\";\nimport {ChatLogDetailView} from \"ui-framework-jps/dist/framework/ui/chat/ChatLogDetailView\";\nimport {UserSearchView} from \"ui-framework-jps/dist/framework/ui/chat/UserSearchView\";\n\n\nconst logger = debug('app');\n\nexport default class App implements UnreadMessageCountListener {\n\n    private static _instance: App;\n\n    public static getInstance(): App {\n        if (!(App._instance)) {\n            App._instance = new App();\n        }\n        return App._instance;\n    }\n\n    // @ts-ignore\n    private exerciseTypesSidebar: ExerciseTypesSidebar;\n    // @ts-ignore\n    private userSearchSidebar: UserSearchSidebar;\n    // @ts-ignore\n    private chatSidebar: ChatRoomsSidebar;\n    // @ts-ignore\n    private workoutSummarySidebar: WorkoutSummarySidebar;\n    // @ts-ignore\n    private currentWorkoutSidebar: CurrentWorkoutSidebar;\n    // @ts-ignore\n    private currentWorkoutView: CurrentWorkoutCompositeView;\n    // @ts-ignore\n    private chatView: ChatLogsView;\n\n    // @ts-ignore\n    private thisEl: HTMLDivElement | null;\n    // @ts-ignore\n    private chatNavigationItem: HTMLAnchorElement | null;\n\n    private constructor() {\n        // event handlers\n        this.handleShowUserSearch = this.handleShowUserSearch.bind(this);\n        this.handleShowExerciseTypes = this.handleShowExerciseTypes.bind(this);\n        this.handleShowChat = this.handleShowChat.bind(this);\n        this.handleShowWorkoutSummary = this.handleShowWorkoutSummary.bind(this);\n        this.handleShowCurrentWorkout = this.handleShowCurrentWorkout.bind(this);\n\n        Controller.getInstance().connectToApplication(this, window.localStorage);\n    }\n\n    getCurrentUser() {\n        return Controller.getInstance().getLoggedInUserId();\n    }\n\n    private setupNavigationItemHandling() {\n        // @ts-ignore\n        document.getElementById(NAVIGATION.userSearchId).addEventListener('click', this.handleShowUserSearch);\n        // @ts-ignore\n        document.getElementById(NAVIGATION.exerciseTypesId).addEventListener('click', this.handleShowExerciseTypes);\n        // @ts-ignore\n        document.getElementById(NAVIGATION.workoutSummary).addEventListener('click', this.handleShowWorkoutSummary);\n        // @ts-ignore\n        document.getElementById(NAVIGATION.currentWorkout).addEventListener('click', this.handleShowCurrentWorkout);\n        // @ts-ignore\n        this.chatNavigationItem = document.getElementById(NAVIGATION.chatId);\n\n        // @ts-ignore\n        this.chatNavigationItem.addEventListener('click', this.handleShowChat);\n    }\n\n    private setupUserSearchViews() {\n        // add the subviews for the user search\n        this.userSearchSidebar = UserSearchSidebar.getInstance(Controller.getInstance().getStateManager());\n        this.userSearchSidebar.onDocumentLoaded();\n    }\n\n    private setupChatViews() {\n        // add the views to the chat side bar\n        this.chatSidebar = ChatRoomsSidebar.getInstance(Controller.getInstance().getStateManager());\n        this.chatSidebar.onDocumentLoaded();\n    }\n\n    onDocumentLoad() {\n        logger('document loaded');\n        // @ts-ignore\n        this.thisEl = document.getElementById('root');\n\n        this.setupUserSearchViews();\n        this.setupChatViews();\n        this.setupNavigationItemHandling();\n\n        this.exerciseTypesSidebar = new ExerciseTypesSidebar();\n        new ExerciseTypesCompositeView(this.exerciseTypesSidebar).onDocumentLoaded();\n\n        //new WorkoutsView().onDocumentLoaded(); // carousel view\n        new WorkoutsViewUsingContext().onDocumentLoaded();\n\n        this.workoutSummarySidebar = new WorkoutSummarySidebar();\n        this.workoutSummarySidebar.addView(new WorkoutSummaryView(),{containerId: WorkoutSummarySidebar.SidebarContainers.container});\n        this.workoutSummarySidebar.onDocumentLoaded();\n\n        this.currentWorkoutSidebar = new CurrentWorkoutSidebar();\n        this.currentWorkoutView = new CurrentWorkoutCompositeView(this.currentWorkoutSidebar);\n        this.currentWorkoutView.onDocumentLoaded();\n\n        ContextualInformationHelper.getInstance().onDocumentLoaded();\n        Controller.getInstance().onDocumentLoaded();\n\n    }\n\n\n    hideAllSideBars() {\n        this.chatSidebar.eventHide(null);\n        this.userSearchSidebar.eventHide(null);\n        this.exerciseTypesSidebar.eventHide(null);\n        this.currentWorkoutSidebar.eventHide(null);\n    }\n\n    handleShowUserSearch(event: Event) {\n        logger('Handling Show User Search');\n        event.preventDefault();\n        //this.hideAllSideBars();\n        // prevent anything from happening if we are not logged in\n        if (!Controller.getInstance().isLoggedIn()) {\n            // @ts-ignore\n            window.location.href = API_Config.login;\n            return;\n        }\n        this.userSearchSidebar.eventShow(event);\n    }\n\n    handleShowWorkoutSummary(event: Event) {\n        logger('Handling Show Workout Summary');\n        event.preventDefault();\n        //this.hideAllSideBars();\n        // prevent anything from happening if we are not logged in\n        if (!Controller.getInstance().isLoggedIn()) {\n            // @ts-ignore\n            window.location.href = API_Config.login;\n            return;\n        }\n        this.hideAllSideBars();\n        this.workoutSummarySidebar.eventShow(event);\n    }\n\n    handleShowCurrentWorkout(event: Event) {\n        logger('Handling Show Current Workout');\n        event.preventDefault();\n        //this.hideAllSideBars();\n        // prevent anything from happening if we are not logged in\n        if (!Controller.getInstance().isLoggedIn()) {\n            // @ts-ignore\n            window.location.href = API_Config.login;\n            return;\n        }\n        this.currentWorkoutSidebar.eventShow(event);\n    }\n\n\n    handleShowExerciseTypes(event: Event) {\n        logger('Handling Show Exercise Types');\n        event.preventDefault();\n        //this.hideAllSideBars();\n        // prevent anything from happening if we are not logged in\n        if (!Controller.getInstance().isLoggedIn()) {\n            // @ts-ignore\n            window.location.href = API_Config.login;\n            return;\n        }\n        this.exerciseTypesSidebar.eventShow(event);\n    }\n\n    handleShowChat(roomName: string | null) {\n        logger('Handling Show Chat');\n        //event.preventDefault();\n        //this.hideAllSideBars();\n        // prevent anything from happening if we are not logged in\n        if (!Controller.getInstance().isLoggedIn()) {\n            // @ts-ignore\n            window.location.href = API_Config.login;\n            return;\n        }\n        this.chatSidebar.eventShow(null);\n        if (roomName) {\n            this.chatView.selectChatRoom(roomName);\n        }\n    }\n\n\n    countChanged(newCount: number): void {\n        //\n        let buffer = 'Chat <i class=\"fas fa-inbox\"></i>';\n        if (newCount > 0) {\n            buffer += ` <span class=\"badge badge-pill badge-primary\">&nbsp;${newCount}&nbsp;</span>`;\n        }\n        if (this.chatNavigationItem) this.chatNavigationItem.innerHTML = `${buffer}`;\n    }\n\n    addingExerciseToCurrentWorkout(exerciseType:any) {\n        //this.exerciseTypesSidebar.eventHide(null);\n        this.currentWorkoutSidebar.eventShow(null);\n        this.currentWorkoutView.getStateManager().addNewItemToState(STATE_NAMES.exerciseTypes,exerciseType, false);\n    }\n\n    showCurrentWorkout() {\n        this.currentWorkoutSidebar.eventShow(null);\n    }\n}\n\n\n$(function() {\n    App.getInstance().onDocumentLoad();\n});\n","export enum Decorator {\n    Incomplete,\n    Complete,\n    Persisted,\n    PersistedLocally = 3\n}\n\nexport const STATE_NAMES = {\n    users: 'user',\n    chatLogs: 'chatLog',\n    exerciseTypes: 'exerciseType',\n    workouts: 'workout',\n    recentUserSearches: 'recentUserSearch'\n}\n\nexport const API_Config = {\n    login: '/login',\n    users: '/api/users',\n    exerciseTypes: '/api/exercise-types',\n    workouts: '/api/workouts'\n};\n\nexport const NAVIGATION = {\n    showMyWorkouts: 'navigationItemMyWorkouts',\n    userSearchId: 'navigationItemUserSearch',\n    exerciseTypesId: 'navigationItemExerciseTypes',\n    chatId: 'navigationItemChat',\n    workoutSummary:'navigationItemWorkoutSummary',\n    currentWorkout: 'navigationItemCurrentWorkout',\n}\n\nexport const DRAGGABLE = {\n    typeUser: 'user',\n    typeExerciseType: 'exerciseType',\n    fromUserSearch: 'userSearch',\n    fromFavourites: 'favourites',\n    fromExerciseTypes: 'exerciseTypes',\n}\n\nexport const VIEW_NAME = {\n    blockedUsers: 'blockedUsers',\n    chatLog: 'chatLog',\n    chatLogs: 'chatLogs',\n    favouriteUsers: 'favouriteUsers',\n    exerciseTypes: 'exerciseTypes',\n    userSearch: 'userSearch',\n    workouts: 'workouts',\n    workoutSummary: 'workoutSummary',\n    exercises:'exercises'\n}\n\nexport const VIEW_CONTAINER = {\n    exerciseTypeDetail:\"exerciseTypeDetail\",\n    currentWorkoutDetail: 'workoutDetail',\n    exerciseDropZone:'exerciseDropZone'\n}\n\nexport const BUTTON = {\n    createNewExerciseType: 'addNewExerciseType',\n    completeWorkout: 'completeWorkout'\n}\n\nexport const INPUT = {\n    workoutName: 'workoutName'\n}\n\n\n","import debug from 'debug';\nimport {API_Config, STATE_NAMES} from \"./AppTypes\";\nimport {v4} from \"uuid\";\nimport SocketListenerDelegate from \"./SocketListenerDelegate\";\nimport {\n    AggregateStateManager,\n    AsyncStateManagerWrapper,\n    BasicObjectDefinitionFactory, ChatManager,\n    DataObjectController,\n    DataObjectDefinition,\n    DataObjectListener,\n    FieldDefinition,\n    FieldType, isSame, isSameMongo,\n    KeyType,\n    MemoryBufferStateManager, NotificationController,\n    ObjectDefinitionRegistry,\n    RESTApiStateManager,\n    SimpleValueDataSource,\n    SocketManager,\n    StateChangeListener,\n    StateManager\n} from \"ui-framework-jps\";\n\nconst cLogger = debug('controller-ts');\nconst cLoggerDetail = debug('controller-ts-detail');\n\nexport default class Controller implements StateChangeListener,DataObjectListener {\n    private static _instance: Controller;\n\n    public static getInstance(): Controller {\n        if (!(Controller._instance)) {\n            Controller._instance = new Controller();\n        }\n        return Controller._instance;\n    }\n\n    protected applicationView: any;\n    protected clientSideStorage: any;\n    protected config: any;\n    // @ts-ignore\n    protected stateManager: StateManager;\n\n\n    private constructor() {}\n\n    connectToApplication(applicationView: any, clientSideStorage: any) {\n        this.applicationView = applicationView;\n        this.clientSideStorage = clientSideStorage;\n        // setup the API calls\n        let restSM = RESTApiStateManager.getInstance();\n        restSM.initialise([\n            {\n                stateName:STATE_NAMES.users,\n                serverURL:'',\n                api:API_Config.users,\n                isActive:true\n            },\n            {\n                stateName:STATE_NAMES.exerciseTypes,\n                serverURL:'',\n                api:API_Config.exerciseTypes,\n                isActive:true,\n                idField: '_id'\n            },\n            {\n                stateName:STATE_NAMES.workouts,\n                serverURL:'',\n                api:API_Config.workouts,\n                isActive:true,\n                idField: '_id'\n            }\n        ]);\n\n\n        let aggregateSM = new AggregateStateManager(isSameMongo)\n        let memorySM = new MemoryBufferStateManager(isSameMongo)\n\n        let asyncSM = new AsyncStateManagerWrapper(aggregateSM, restSM,isSameMongo);\n\n\n        aggregateSM.addStateManager(memorySM, [], false);\n        aggregateSM.addStateManager(asyncSM, [], false);\n\n        this.stateManager = aggregateSM;\n\n        // state listener\n        this.stateChanged = this.stateChanged.bind(this);\n        this.stateChangedItemAdded = this.stateChangedItemAdded.bind(this);\n        this.stateChangedItemRemoved = this.stateChangedItemRemoved.bind(this);\n        this.stateChangedItemUpdated = this.stateChangedItemUpdated.bind(this);\n\n        // data objects\n        this.setupDataObjectDefinitions();\n\n        return this;\n    }\n\n    private setupDataObjectDefinitions() {\n        // create the object definitions for the exercise type and workout\n        let exerciseTypeDefinition:DataObjectDefinition = ObjectDefinitionRegistry.getInstance().addDefinition(STATE_NAMES.exerciseTypes,'Exercise', true, true, true, '_id');\n        BasicObjectDefinitionFactory.getInstance().addStringFieldToObjDefinition(exerciseTypeDefinition, \"name\", \"Name\", FieldType.text, true, \"Exercise name\");\n        BasicObjectDefinitionFactory.getInstance().addStringFieldToObjDefinition(exerciseTypeDefinition, \"type\", \"Type\", FieldType.limitedChoice, true, \"Choose cardio or strength\",\n            new SimpleValueDataSource([\n                {name: 'Cardio', value: 'cardio'},\n                {name: 'Strength', value: 'strength'}\n            ]));\n        BasicObjectDefinitionFactory.getInstance().addStringFieldToObjDefinition(exerciseTypeDefinition, \"duration\", \"Duration\", FieldType.duration, true, \"Exercise time\");\n        BasicObjectDefinitionFactory.getInstance().addStringFieldToObjDefinition(exerciseTypeDefinition, \"sets\", \"Sets\", FieldType.integer, false, \"Number of sets\");\n        BasicObjectDefinitionFactory.getInstance().addStringFieldToObjDefinition(exerciseTypeDefinition, \"reps\", \"Repetitions\", FieldType.integer, false, \"Number of reps\");\n        BasicObjectDefinitionFactory.getInstance().addStringFieldToObjDefinition(exerciseTypeDefinition, \"weight\", \"Weight\", FieldType.float, false, \"Weight used\");\n        BasicObjectDefinitionFactory.getInstance().addStringFieldToObjDefinition(exerciseTypeDefinition, \"distance\", \"Distance\", FieldType.float, false, \"Distance travelled\");\n\n        cLogger(`Exercise type data object definition`);\n        cLogger(exerciseTypeDefinition);\n        cLoggerDetail(ObjectDefinitionRegistry.getInstance().findDefinition('exerciseType'));\n\n        let workoutDefinition:DataObjectDefinition = ObjectDefinitionRegistry.getInstance().addDefinition(STATE_NAMES.workouts,'Workout', true, true, true, '_id');\n        BasicObjectDefinitionFactory.getInstance().addStringFieldToObjDefinition(workoutDefinition, \"name\", \"Name\", FieldType.text, false, \"Give the workout a name\");\n        BasicObjectDefinitionFactory.getInstance().addStringFieldToObjDefinition(workoutDefinition, \"completed\", \"Completed\", FieldType.boolean, true, \"Have completed the workout\");\n        let exercisesFieldDefinition:FieldDefinition = BasicObjectDefinitionFactory.getInstance().addStringFieldToObjDefinition(workoutDefinition, \"exercises\", \"Exercises\", FieldType.collection, true, \"Exercises in this workout\");\n        exercisesFieldDefinition.idType = KeyType.collection;\n        exercisesFieldDefinition.linkedDataObjectId = exerciseTypeDefinition.id;\n\n        cLogger(`Workout data object definition`);\n        cLogger(workoutDefinition);\n        cLoggerDetail(ObjectDefinitionRegistry.getInstance().findDefinition('workout'));\n\n\n    }\n\n    /*\n        Get the base data for the application (users, entries)\n    */\n    public onDocumentLoaded(): void {\n        cLogger('Initialising data state');\n        // listen for socket events\n        let socketListerDelegate = new SocketListenerDelegate();\n        SocketManager.getInstance().setListener(socketListerDelegate);\n\n        // now that we have all the user we can setup the chat system but only if we are logged in\n        cLogger(`Setting up chat system for user ${this.getLoggedInUserId()}: ${this.getLoggedInUsername()}`);\n        if (this.getLoggedInUserId().trim().length > 0) {\n            // setup the chat system\n            let chatManager = ChatManager.getInstance(); // this connects the manager to the socket system\n\n            // setup the chat notification system\n            NotificationController.getInstance();\n            chatManager.setCurrentUser(this.getLoggedInUsername());\n\n            // let the application view know about message counts\n            chatManager.setUnreadCountListener(this.applicationView);\n\n            chatManager.login();\n            // load the users\n            this.getStateManager().getStateByName(STATE_NAMES.users);\n            this.getStateManager().getStateByName(STATE_NAMES.exerciseTypes);\n            this.getStateManager().getStateByName(STATE_NAMES.workouts);\n        }\n\n    }\n\n    public getStateManager(): StateManager {\n        return this.stateManager;\n    }\n\n    public getListenerName(): string {\n        return 'Controller';\n    }\n\n    public isLoggedIn(): boolean {\n        let isLoggedIn = false;\n        try {\n            // @ts-ignore\n            if (loggedInUser) {\n                isLoggedIn = true;\n            }\n        } catch (error) {\n        }\n        return isLoggedIn;\n    }\n\n    public getLoggedInUserId(): string {\n        let result = '';\n        try {\n            // @ts-ignore\n            if (loggedInUser) {\n                // @ts-ignore\n                result = loggedInUser._id;\n            }\n        } catch (error) {\n        }\n        cLoggerDetail(`Logged in user id is ${result}`);\n        return result;\n    }\n\n    public getLoggedInUsername(): string {\n        let result = '';\n        try {\n            // @ts-ignore\n            if (loggedInUser) {\n                // @ts-ignore\n                result = loggedInUser.username;\n            }\n        } catch (error) {\n        }\n        cLoggerDetail(`Logged in user is ${result}`);\n        return result;\n    }\n\n    public handleMessage(message: string): void {\n        cLogger(message);\n    }\n\n    public getCurrentUser(): string {\n        return this.getLoggedInUserId();\n    }\n\n    stateChangedItemAdded(managerName: string, name: string, itemAdded: any): void {}\n    stateChangedItemRemoved(managerName: string, name: string, itemRemoved: any): void {}\n    stateChangedItemUpdated(managerName: string, name: string, itemUpdated: any, itemNewValue: any): void {}\n    stateChanged(managerName: string, name: string, values: any) {}\n\n\n    /*\n    *\n    * Simple Application state (URL, logged in user)\n    *\n     */\n    private getServerAPIURL(): string {\n        let result = \"\";\n        // @ts-ignore\n        if ((window.ENV) && (window.ENV.serverURL)) {\n            // @ts-ignore\n            result = window.ENV.serverURL;\n        }\n        return result;\n    }\n\n\n    handleShowChat(roomName:string|null) {\n        this.applicationView.handleShowChat(roomName);\n    }\n\n    create(controller: DataObjectController, typeName: string, dataObj: any): void {\n        switch(typeName) {\n            case STATE_NAMES.exerciseTypes: {\n                cLogger(`Handling create new exercise type`);\n                cLoggerDetail(dataObj);\n                this.stateManager.addNewItemToState(typeName,dataObj,false);\n                break;\n            }\n        }\n    }\n\n    delete(controller: DataObjectController, typeName: string, dataObj: any): void {\n        switch(typeName) {\n            case STATE_NAMES.exerciseTypes: {\n                cLogger(`Handling delete exercise type - already managed by stateful collection view`);\n                cLoggerDetail(dataObj);\n                break;\n            }\n        }\n    }\n\n    update(controller: DataObjectController, typeName: string, dataObj: any): void {\n        switch(typeName) {\n            case STATE_NAMES.exerciseTypes: {\n                cLogger(`Handling update exercise type`);\n                cLoggerDetail(dataObj);\n                this.stateManager.updateItemInState(typeName,dataObj,false);\n                break;\n            }\n        }\n    }\n\n\n    addExerciseToCurrentWorkout(exerciseType:any):void {\n        let copyOfExercise = {...exerciseType};\n        copyOfExercise._id = v4(); // update the id to be unique for the workout\n        this.applicationView.addingExerciseToCurrentWorkout(copyOfExercise);\n    }\n\n    addWorkoutExercisesToCurrentWorkout(workout:any):void {\n        if (workout.exercises) {\n            workout.exercises.forEach((exercise:any) => {\n                this.addExerciseToCurrentWorkout(exercise);\n            });\n        }\n    }\n\n    filterResults(managerName: string, name: string, filterResults: any): void {\n    }\n\n}\n\n\n","import Controller from \"./Controller\";\nimport {Field, FormFieldPermissionChecker} from \"ui-framework-jps\";\n\nexport class CreatedByPermissionChecker implements FormFieldPermissionChecker {\n    hasPermissionToUpdateItem(item: any): boolean {\n        let result = false;\n        if (item.createdBy) {\n            result = (item.createdBy === Controller.getInstance().getLoggedInUsername());\n        }\n        return result;\n    }\n\n    hasPermissionToDeleteItem(item: any): boolean {\n        let result = false;\n        if (item.createdBy) {\n            result = (item.createdBy === Controller.getInstance().getLoggedInUsername());\n        }\n        return result;\n    }\n\n    hasPermissionToEditField(dataObj: any, field: Field): boolean {\n        return true;\n    }\n}\n","import debug from 'debug';\n\n\nimport Controller from \"./Controller\";\n\nimport {STATE_NAMES} from \"./AppTypes\";\nimport {isSameMongo, NotificationManager, NotificationType, SocketListener} from \"ui-framework-jps\";\n\n\nconst slLogger = debug('socket-listener');\n\nexport default class SocketListenerDelegate implements SocketListener {\n\n    public constructor() {}\n\n    public handleDataChangedByAnotherUser(message: any) {\n        slLogger(`Handling data change ${message.type} on object type ${message.stateName} made by user ${message.user}`);\n        const changeUser = Controller.getInstance().getStateManager().findItemInState(STATE_NAMES.users, {_id: message.user});\n        let username = \"unknown\";\n        if (changeUser) {\n            username = changeUser.username;\n        }\n        slLogger(`Handling data change ${message.type} on object type ${message.stateName} made by user ${username}`);\n\n        let stateObj = message.data;\n        slLogger(stateObj);\n        // ok lets work out where this change belongs\n        try {\n            switch (message.type) {\n                case \"create\": {\n                    switch (message.stateName) {\n                        case STATE_NAMES.users: {\n                            Controller.getInstance().getStateManager().addNewItemToState(STATE_NAMES.users, stateObj, true);\n                            NotificationManager.getInstance().show(stateObj.username, `${stateObj.username} has just registered.`, NotificationType.message);\n                            break;\n                        }\n                        case STATE_NAMES.exerciseTypes: {\n                            Controller.getInstance().getStateManager().addNewItemToState(STATE_NAMES.exerciseTypes, stateObj, true);\n                            break;\n                        }\n                    }\n                    break;\n                }\n                case \"update\": {\n                    switch (message.stateName) {\n                        case STATE_NAMES.exerciseTypes: {\n                            Controller.getInstance().getStateManager().updateItemInState(STATE_NAMES.exerciseTypes, stateObj,true);\n                            break;\n                        }\n                    }\n                    break;\n                }\n                case \"delete\": {\n                    switch (message.stateName) {\n                        case STATE_NAMES.exerciseTypes: {\n                            Controller.getInstance().getStateManager().removeItemFromState(STATE_NAMES.exerciseTypes, stateObj, true);\n                            break;\n                        }\n                    }\n                    break;\n                }\n            }\n        } catch (err) {\n            slLogger(err);\n        }\n\n    }\n\n    handleMessage(message: string): void {\n        slLogger(`Received message: ${message}`);\n    }\n\n    getCurrentUser(): string {\n        return Controller.getInstance().getLoggedInUserId();\n    }\n\n}\n","import {ComparisonType, ConditionResponse, Form, ValidationManager, ValidationRule} from \"ui-framework-jps\";\n\n\nexport class ValidationHelper {\n    private static _instance: ValidationHelper;\n\n    public static getInstance(): ValidationHelper {\n        if (!(ValidationHelper._instance)) {\n            ValidationHelper._instance = new ValidationHelper();\n        }\n        return ValidationHelper._instance;\n    }\n\n    private constructor() {}\n\n    public setupValidationForExerciseTypeDetailsForm(form:Form) {\n        let rule: ValidationRule = {\n            targetDataFieldId: 'sets',\n            response: ConditionResponse.show,\n            conditions: [\n                {\n                    sourceDataFieldId: 'type',\n                    comparison: ComparisonType.hasValue,\n                    values:'cardio'\n                }\n            ]\n        }\n        ValidationManager.getInstance().addRuleToForm(form, rule);\n        rule = {\n            targetDataFieldId: 'reps',\n            response: ConditionResponse.show,\n            conditions: [\n                {\n                    sourceDataFieldId: 'type',\n                    comparison: ComparisonType.hasValue,\n                    values:'cardio'\n                }\n            ]\n        }\n        ValidationManager.getInstance().addRuleToForm(form, rule);\n        rule = {\n            targetDataFieldId: 'weight',\n            response: ConditionResponse.show,\n            conditions: [\n                {\n                    sourceDataFieldId: 'type',\n                    comparison: ComparisonType.hasValue,\n                    values:'cardio'\n                }\n            ]\n        }\n        ValidationManager.getInstance().addRuleToForm(form, rule);\n        rule = {\n            targetDataFieldId: 'reps',\n            response: ConditionResponse.hide,\n            conditions: [\n                {\n                    sourceDataFieldId: 'type',\n                    comparison: ComparisonType.hasValue,\n                    values:'strength'\n                }\n            ]\n        }\n        ValidationManager.getInstance().addRuleToForm(form, rule);\n        rule = {\n            targetDataFieldId: 'sets',\n            response: ConditionResponse.hide,\n            conditions: [\n                {\n                    sourceDataFieldId: 'type',\n                    comparison: ComparisonType.hasValue,\n                    values:'strength'\n                }\n            ]\n        }\n\n        ValidationManager.getInstance().addRuleToForm(form, rule);\n        rule = {\n            targetDataFieldId: 'weight',\n            response: ConditionResponse.hide,\n            conditions: [\n                {\n                    sourceDataFieldId: 'type',\n                    comparison: ComparisonType.hasValue,\n                    values:'strength'\n                }\n            ]\n        }\n\n        ValidationManager.getInstance().addRuleToForm(form, rule);\n        rule = {\n            targetDataFieldId: 'distance',\n            response: ConditionResponse.show,\n            conditions: [\n                {\n                    sourceDataFieldId: 'type',\n                    comparison: ComparisonType.hasValue,\n                    values: 'strength'\n                }\n            ]\n        }\n        ValidationManager.getInstance().addRuleToForm(form, rule);\n        rule = {\n            targetDataFieldId: 'distance',\n            response: ConditionResponse.hide,\n            conditions: [\n                {\n                    sourceDataFieldId: 'type',\n                    comparison: ComparisonType.hasValue,\n                    values: 'cardio'\n                }\n            ]\n        }\n        ValidationManager.getInstance().addRuleToForm(form, rule);\n    }\n\n}\n","import debug from 'debug';\nimport moment from \"moment\";\nimport Chart from \"chart.js/auto\";\nimport {CollectionView, CollectionViewEventHandler, CollectionViewRenderer} from \"ui-framework-jps\";\n\nconst avLogger = debug('workout-summary-renderer');\n\nexport class WorkoutSummaryRenderer implements CollectionViewRenderer {\n    protected view: CollectionView;\n    protected eventHandler: CollectionViewEventHandler;\n    private currentChart:Chart|null = null;\n\n    constructor(view: CollectionView, eventHandler: CollectionViewEventHandler) {\n        this.view = view;\n        this.eventHandler = eventHandler;\n    }\n\n    private generateRandomExerciseColourAndBorder(isStrength:boolean = true) : string[] {\n        let red = 0;\n        let blue = 0;\n        let green = 50;\n\n        const newColour = Math.floor(Math.random() * 100) + 155;\n        if (isStrength) red = newColour;\n        if (!isStrength) blue = newColour;\n        const transparency = 0.4;\n\n        const background = `rgba(${red},${green},${blue},${transparency})`;\n        const border = `rgb(${red},${green},${blue})`;\n\n        return [background,border];\n    }\n\n    public createDisplayElementForCollectionItem(collectionName: string, item: any): HTMLElement {\n        return document.createElement('a');\n    }\n\n    public setDisplayElementsForCollectionInContainer(containerEl: HTMLElement, collectionName: string, newState: any): void {\n        avLogger(`view ${this.view.getName()}: creating workout summary`);\n        avLogger(newState);\n\n        if (this.currentChart) this.currentChart.destroy();\n\n        // okay we need to go through the last 7 workouts\n        let sevenWorkouts = newState;\n        if (newState.length > 7) {\n            sevenWorkouts = newState.slice(newState.length - 7);\n        }\n\n\n        // go through the workouts and find all the unique exercise names as data series names\n        let exerciseNames: string[] = [];\n        let exerciseBG: string[] = [];\n        let exerciseBR: string[] = [];\n        let exerciseTypes: string[] = [];\n        let labels: string[] = [];\n        sevenWorkouts.forEach((workout: any) => {\n            const label = moment(workout.createdOn, 'YYYYMMDDHHmmss').format('ddd DD/MM/YYYY HH:mm');\n            labels.push(label);\n            avLogger(`Added label ${label}`);\n\n            if (workout.exercises) {\n                workout.exercises.forEach((exercise: any) => {\n                    const exerciseName = exercise.name;\n                    // do we have this exercise already?\n                    let foundIndex = exerciseNames.findIndex((name) => name == exerciseName);\n                    if (foundIndex < 0) {\n                        avLogger(`Adding exercise ${exerciseName} of type ${exercise.type} to datasets`);\n                        exerciseNames.push(exerciseName);\n                        exerciseTypes.push(exercise.type);\n                        const colours = this.generateRandomExerciseColourAndBorder((exercise.type === 'strength'));\n                        exerciseBG.push(colours[0]);\n                        exerciseBR.push(colours[1]);\n                    }\n                })\n            }\n        });\n\n        // construct the data series, for each series (exercise), go through the workouts and create a data entry for that item\n\n        let datasets: any[] = [];\n\n        exerciseNames.forEach((name, index) => {\n            const exerciseType = exerciseTypes[index];\n            const itemBG = exerciseBG[index];\n            const itemBR = exerciseBR[index];\n\n            avLogger(`Constructing dataset ${name} of type ${exerciseType} to datasets`);\n\n            let data: number[] = [];\n            let bg: string[] = [];\n            let br: string[] = [];\n\n\n            sevenWorkouts.forEach((workout: any) => {\n                bg.push(itemBG);\n                br.push(itemBR);\n\n                // find the exercise name\n                if (workout.exercises) {\n\n                    const didntFindExercise = workout.exercises.every((exercise: any) => {\n                        if (exercise.name == name) {\n                            if (exerciseType === 'strength') {\n                                avLogger(`Found exercise ${name} with value ${exercise.weight}`);\n                                data.push(exercise.weight);\n                            } else {\n                                avLogger(`Found exercise ${name} with value ${exercise.distance}`);\n                                data.push(exercise.distance);\n                            }\n                            return false;\n                        }\n                        return true;\n                    });\n                    // not found - zero value\n                    if (didntFindExercise) {\n                        data.push(0);\n                    }\n\n                } else {\n                    data.push(0);\n                }\n            });\n            let dataset = {label: name, data: data, backgroundColor: bg, borderColor: br, borderWidth: 1, order:1};\n            let lineDataSet = {label: name, data: data, backgroundColor: bg, borderColor: br, order: 0, type: 'line'};\n            avLogger(dataset);\n            datasets.push(dataset);\n            //datasets.push(lineDataSet);\n        });\n\n\n        let chartData = {\n            labels: labels,\n            datasets: datasets,\n        };\n\n        let config = {\n            type:'bar',\n            data: chartData,\n            options: {\n                responsive: true,\n                animation: true,\n                maintainAspectRatio: true,\n                scales: {\n                    y: {\n                        beginAtZero: true\n                    }\n                }\n            },\n\n        }\n        avLogger(chartData);\n\n        // @ts-ignore\n        this.currentChart = new Chart(<HTMLCanvasElement>containerEl, config);\n    }\n\n    onDocumentLoaded(): void {\n    }\n\n}\n","import {SidebarLocation, SidebarPrefs, SidebarViewContainer} from \"ui-framework-jps\";\n\n\nexport default class CurrentWorkoutSidebar extends SidebarViewContainer {\n    static SidebarPrefs:SidebarPrefs = {\n        id:'currentWorkoutSidebar',\n        expandedSize:'50%',\n        location: SidebarLocation.right\n    }\n\n    static SidebarContainers = {\n        list: 'exercises',\n        detail: 'workoutDetail'\n    }\n\n\n    constructor() {\n        super(CurrentWorkoutSidebar.SidebarPrefs);\n    }\n}\n","import {SidebarLocation, SidebarPrefs, SidebarViewContainer} from \"ui-framework-jps\";\n\n\nexport default class ExerciseTypesSidebar extends SidebarViewContainer {\n    static SidebarPrefs:SidebarPrefs = {\n        id:'exerciseTypesSidebar',\n        expandedSize:'50%',\n        location: SidebarLocation.left\n    }\n\n    static SidebarContainers = {\n        container: 'exerciseTypesContainer',\n    }\n\n\n    constructor() {\n        super(ExerciseTypesSidebar.SidebarPrefs);\n    }\n}\n","import {SidebarLocation, SidebarPrefs, SidebarViewContainer} from \"ui-framework-jps\";\n\n\nexport default class WorkoutSummarySidebar extends SidebarViewContainer {\n    static SidebarPrefs:SidebarPrefs = {\n        id:'workoutSummarySidebar',\n        expandedSize:'100%',\n        location: SidebarLocation.bottom\n    }\n\n    static SidebarContainers = {\n        container: 'workoutSummary',\n    }\n\n\n    constructor() {\n        super(WorkoutSummarySidebar.SidebarPrefs);\n    }\n}\n","\nimport {BUTTON, INPUT, STATE_NAMES, VIEW_CONTAINER, VIEW_NAME} from \"../../AppTypes\";\n\nimport Controller from \"../../Controller\";\nimport debug from \"debug\";\n\nimport {ValidationHelper} from \"../helper/ValidationHelper\";\nimport {CurrentWorkoutExercisesView} from \"./CurrentWorkoutExercisesView\";\n\nimport moment from \"moment\";\nimport App from \"../../App\";\nimport {\n    BasicObjectDefinitionFactory, BootstrapFormConfigHelper,\n    DataObjectController,\n    DataObjectDefinition,\n    DataObjectListener, DefaultFormFieldPermissionChecker, DetailView, DetailViewImplementation,\n    Form,\n    FormDetailViewRenderer, isSameMongo, LinkedCollectionDetailController, MemoryBufferStateManager,\n    ObjectDefinitionRegistry, SidebarViewContainer, StateChangeListener, StateManager\n} from \"ui-framework-jps\";\n\nconst logger = debug('current-workout-composite-view');\n\nexport class CurrentWorkoutCompositeView implements StateChangeListener,DataObjectListener{\n    private sideBar:SidebarViewContainer;\n    private currentWorkout:any = {};\n    private workoutDef:DataObjectDefinition|null = null;\n    private readonly stateManager:StateManager;\n    private workoutNameEl:HTMLInputElement|null = null;\n\n    constructor(sideBar:SidebarViewContainer) {\n        this.sideBar = sideBar;\n        this.stateManager = new MemoryBufferStateManager(isSameMongo);\n        this.stateManager.addChangeListenerForName(STATE_NAMES.exerciseTypes,this);\n        Controller.getInstance().getStateManager().addChangeListenerForName(STATE_NAMES.workouts,this);\n    }\n\n    getListenerName(): string {\n        return 'Current Workout Composite View';\n    }\n\n    onDocumentLoaded() {\n        this.workoutNameEl = <HTMLInputElement|null>document.getElementById(INPUT.workoutName);\n        this.workoutNameEl?.addEventListener('blur',(event) => {\n           if (event.target) {\n               // @ts-ignore\n               this.currentWorkout.name = event.target.value;\n               this.saveWorkout();\n           }\n        });\n\n\n        this.workoutDef = ObjectDefinitionRegistry.getInstance().findDefinition(STATE_NAMES.workouts);\n        if (!this.workoutDef) throw new Error ('Workout definition not found');\n\n        const exerciseTypes = new CurrentWorkoutExercisesView(this.stateManager);\n        this.sideBar.addView(exerciseTypes,{containerId:VIEW_CONTAINER.exerciseDropZone});\n\n        const exerciseTypeDefinition:DataObjectDefinition|null = ObjectDefinitionRegistry.getInstance().findDefinition(STATE_NAMES.exerciseTypes);\n\n        if (exerciseTypeDefinition) {\n            let exerciseTypeDetailRenderer:FormDetailViewRenderer = new FormDetailViewRenderer(VIEW_CONTAINER.currentWorkoutDetail,exerciseTypeDefinition,new DefaultFormFieldPermissionChecker(), BootstrapFormConfigHelper.getInstance());\n\n            let exerciseTypeDetailView:DetailView = new DetailViewImplementation(\n                {\n                    resultsContainerId: VIEW_CONTAINER.currentWorkoutDetail,\n                    dataSourceId: VIEW_NAME.exercises\n                },exerciseTypeDetailRenderer);\n            let viewLinker:LinkedCollectionDetailController = new LinkedCollectionDetailController(STATE_NAMES.exerciseTypes,exerciseTypes);\n            viewLinker.addLinkedDetailView(exerciseTypeDetailView);\n            this.sideBar.onDocumentLoaded();\n            let startingDisplayOrder = BasicObjectDefinitionFactory.getInstance().generateStartingDisplayOrder(exerciseTypeDefinition);\n            exerciseTypeDetailView.initialise(startingDisplayOrder,false,true);\n\n            const detailForm:Form|null = exerciseTypeDetailRenderer.getForm();\n            if (detailForm) {\n                logger(`Setting up validation rules for ${detailForm.getId()}`);\n                logger(detailForm);\n                ValidationHelper.getInstance().setupValidationForExerciseTypeDetailsForm(detailForm);\n            }\n\n            // setup the event handling for the create new exercise type button\n            let createExerciseType = <HTMLButtonElement>document.getElementById(BUTTON.completeWorkout);\n            logger(`Setting up button for completing the workout`);\n            logger(createExerciseType);\n            if (createExerciseType) {\n                createExerciseType.addEventListener('click',(event) => {\n                    logger(`Completing the workout`);\n                    this.currentWorkout.completed = true;\n                    this.currentWorkout.createdOn = moment().format('YYYYMMDDHHmmss');\n                    if (detailForm) {\n                        detailForm.reset();\n                        detailForm.setReadOnly();\n                    }\n                    this.saveWorkout();\n                    this.createWorkout();\n                    App.getInstance().hideAllSideBars();\n                });\n\n            }\n\n            viewLinker.addListener(this);\n        }\n\n    }\n\n    public getStateManager() {\n        return this.stateManager;\n    }\n\n\n    private createWorkout() {\n        logger(`Creating new current workout`);\n        this.currentWorkout = ObjectDefinitionRegistry.getInstance().createInstance(STATE_NAMES.workouts);\n        logger(this.currentWorkout);\n        this.currentWorkout.name = '';\n\n        if (this.workoutNameEl) this.workoutNameEl.value = '';\n        Controller.getInstance().getStateManager().addNewItemToState(STATE_NAMES.workouts,this.currentWorkout,false);\n        this.stateManager.setStateByName(STATE_NAMES.exerciseTypes,this.currentWorkout.exercises,true);\n    }\n\n    private saveWorkout() {\n        logger(`Saving current workout`);\n        logger(this.currentWorkout);\n        this.currentWorkout.createdOn = moment().format('YYYYMMDDHHmmss');\n        this.currentWorkout.modifiedOn = moment().format('YYYYMMDDHHmmss');\n\n        Controller.getInstance().getStateManager().updateItemInState(STATE_NAMES.workouts,this.currentWorkout,false);\n    }\n\n    stateChanged(managerName: string, name: string, newValue: any): void {\n        logger(`${managerName},${name}`);\n        if (name === STATE_NAMES.workouts) {\n            logger(`Workouts loaded`);\n            // is there a current workout?\n            this.currentWorkout = null;\n\n            newValue.forEach((workout:any) => {\n                if (!workout.completed || (workout.completed === 'false')) {\n                    this.currentWorkout = workout;\n                }\n            });\n\n            if (this.currentWorkout) {\n                logger(`Workouts loaded found existing current workout`);\n                if (this.workoutNameEl && this.currentWorkout.name) this.workoutNameEl.value = this.currentWorkout.name;\n                this.stateManager.setStateByName(STATE_NAMES.exerciseTypes,this.currentWorkout.exercises,true);\n            }\n            else {\n                logger(`Workouts loaded no existing current workout, creating and saving`);\n                this.createWorkout();\n            }\n        }\n    }\n\n    stateChangedItemAdded(managerName: string, name: string, itemAdded: any): void {\n        if (name === STATE_NAMES.exerciseTypes) {\n            logger(`Added a new exercise to workout`);\n            logger(itemAdded);\n\n            this.currentWorkout.exercises.push(itemAdded);\n            this.saveWorkout();\n        }\n    }\n\n    stateChangedItemRemoved(managerName: string, name: string, itemRemoved: any): void {\n        if (name === STATE_NAMES.exerciseTypes) {\n            // find the exercise in the current workout\n            let foundIndex = this.currentWorkout.exercises.findIndex((exercise:any) => exercise._id === itemRemoved._id);\n            logger(`Removing exercise to workout at index ${foundIndex}`);\n            logger(itemRemoved);\n            if (foundIndex >= 0) {\n                this.currentWorkout.exercises.splice(foundIndex,1);\n            }\n            this.saveWorkout();\n        }\n    }\n\n    stateChangedItemUpdated(managerName: string, name: string, itemUpdated: any, itemNewValue: any): void {\n        if (name === STATE_NAMES.exerciseTypes) {\n            // find the exercise in the current workout\n            let foundIndex = this.currentWorkout.exercises.findIndex((exercise:any) => exercise._id === itemNewValue._id);\n            logger(`Updating exercise to workout at index ${foundIndex}`);\n            logger(itemNewValue);\n            if (foundIndex >= 0) {\n                this.currentWorkout.exercises.splice(foundIndex,1,itemNewValue);\n            }\n            this.saveWorkout();\n        }\n\n    }\n\n    create(controller:DataObjectController,typeName:string,dataObj:any):void {\n        logger(`Added a new exercise to workout from view`);\n        logger(dataObj);\n        this.stateManager.addNewItemToState(STATE_NAMES.exerciseTypes,dataObj,false);\n    }\n    update(controller:DataObjectController,typeName:string,dataObj:any):void {\n        logger(`Updating exercise in workout from view`);\n        logger(dataObj);\n        this.stateManager.updateItemInState(STATE_NAMES.exerciseTypes,dataObj,false);\n    }\n    delete(controller:DataObjectController,typeName:string,dataObj:any):void {\n        logger(`Deleting exercise from workout from view`);\n        logger(dataObj);\n        this.stateManager.removeItemFromState(STATE_NAMES.exerciseTypes,dataObj,false);\n    }\n\n    filterResults(managerName: string, name: string, filterResults: any): void {\n    }\n\n\n\n}\n","\nimport {DRAGGABLE, STATE_NAMES, VIEW_NAME} from \"../../AppTypes\";\n\nimport Controller from \"../../Controller\";\n\n\nimport debug from 'debug';\nimport {\n    AbstractStatefulCollectionView,\n    CollectionViewDOMConfig,\n    CollectionViewEventHandlerDelegateUsingContext,\n    CollectionViewListener,\n    CollectionViewListenerForwarder,\n    ContextualInformationHelper, isSameMongo,\n    KeyType,\n    ListViewRendererUsingContext,\n    StateManager, View\n} from \"ui-framework-jps\";\n\nconst logger = debug('current-workout-exercises-view');\n\nexport class CurrentWorkoutExercisesView extends AbstractStatefulCollectionView implements CollectionViewListener {\n\n    private static DOMConfig: CollectionViewDOMConfig = {\n        viewConfig: {\n            resultsContainerId: 'exercises',\n            dataSourceId: VIEW_NAME.exercises,\n            drop: {\n                acceptFrom: [DRAGGABLE.fromExerciseTypes],\n                acceptTypes: [DRAGGABLE.typeExerciseType]\n            }\n        },\n        resultsElement: {\n            type: 'a',\n            attributes: [{name: 'href', value: '#'}],\n            classes: 'list-group-item my-list-item truncate-notification list-group-item-action',\n        },\n        keyId: '_id',\n        keyType: KeyType.string,\n        modifiers: {\n            normal: '',\n            inactive: 'list-group-item-light',\n            active: 'list-group-item-primary',\n            warning: ''\n        },\n        icons: {\n            normal: '',\n            inactive: '',\n            active: '',\n            warning: ''\n        },\n        detail: {\n            containerClasses: 'd-flex w-100 justify-content-between',\n            textElement: {\n                type: 'span',\n                classes: 'mb-1',\n            },\n            select: true,\n            icons:(name:string,item:any) => {\n                if (item.type) {\n                    if (item.type === 'cardio') {\n                        return ['fas fa-running ml-2'];\n                    }\n                    else {\n                        return ['fas fa-dumbbell ml-2'];\n                    }\n                }\n                return [];\n            },\n            delete: {\n                classes: 'btn bg-danger text-white btn-circle btn-md',\n                iconClasses: 'fas fa-trash-alt',\n                attributes:[{name:'data-toggle',value:\"tooltip\"},{name:'data-placement',value:\"right\"},{name:'title',value:\"Delete this exercise from the workout.\"}]\n            }\n        }\n    };\n\n    constructor(stateManager:StateManager) {\n        super(CurrentWorkoutExercisesView.DOMConfig, stateManager, STATE_NAMES.exerciseTypes);\n        this.renderer = new ListViewRendererUsingContext(this, this);\n        this.eventHandlerDelegate = new CollectionViewEventHandlerDelegateUsingContext(this,<CollectionViewListenerForwarder>this.eventForwarder);\n        this.getIdForItemInNamedCollection = this.getIdForItemInNamedCollection.bind(this);\n        this.getItemId = this.getItemId.bind(this);\n        ContextualInformationHelper.getInstance().addContextFromView(this,STATE_NAMES.exerciseTypes,'Exercise Types');\n    }\n\n    getItemDescription(from: string, item: any): string {\n        let buffer = '';\n        buffer += '<strong>' + item.name + '</strong>: ';\n        if (item.type === 'cardio') {\n            buffer += item.distance + ' km in ' + item.duration;\n        }\n        else {\n            buffer += item.sets + ' sets of ' + item.reps + ' reps in ' + item.duration;\n        }\n        buffer += '<br/>';\n        return buffer;\n    }\n\n\n    canDeleteItem(view: View, selectedItem: any): boolean {\n        return true;\n    }\n\n    compareItemsForEquality(item1:any, item2:any) :boolean {\n        return isSameMongo(item1,item2);\n    }\n\n    getIdForItemInNamedCollection(name: string, item: any) {\n        return item._id;\n    }\n\n    renderDisplayForItemInNamedCollection(containerEl: HTMLElement, name: string, item: any): void {\n        containerEl.innerHTML =  item.name;\n    }\n\n    hasPermissionToDeleteItemInNamedCollection(name: string, item: any): boolean {\n        return true;\n    }\n\n    itemDropped(view: View, droppedItem: any) {\n        Controller.getInstance().addExerciseToCurrentWorkout(droppedItem);\n    }\n\n\n}\n\n","\nimport {BUTTON, STATE_NAMES, VIEW_CONTAINER, VIEW_NAME} from \"../../AppTypes\";\n\nimport Controller from \"../../Controller\";\nimport debug from \"debug\";\n\nimport {ValidationHelper} from \"../helper/ValidationHelper\";\nimport {ExerciseTypesViewUsingContext} from \"./ExerciseTypesViewUsingContext\";\nimport {CreatedByPermissionChecker} from \"../../CreatedByPermissionChecker\";\nimport {\n    BasicObjectDefinitionFactory, BootstrapFormConfigHelper,\n    DataObjectDefinition, DetailView, DetailViewImplementation,\n    Form,\n    FormDetailViewRenderer, LinkedCollectionDetailController,\n    ObjectDefinitionRegistry, SidebarViewContainer\n} from \"ui-framework-jps\";\nimport ExerciseTypesSidebar from \"../sidebar/ExerciseTypesSidebar\";\n\nconst logger = debug('exercise-types-composite-view');\n\nexport class ExerciseTypesCompositeView {\n    private sideBar:SidebarViewContainer;\n\n    constructor(sideBar:SidebarViewContainer) {\n        this.sideBar = sideBar;\n    }\n\n    onDocumentLoaded() {\n        const exerciseTypes = new ExerciseTypesViewUsingContext(Controller.getInstance().getStateManager());\n        this.sideBar.addView(exerciseTypes,{containerId:ExerciseTypesSidebar.SidebarContainers.container});\n\n        const exerciseTypeDefinition:DataObjectDefinition|null = ObjectDefinitionRegistry.getInstance().findDefinition(STATE_NAMES.exerciseTypes);\n\n        if (exerciseTypeDefinition) {\n            let exerciseTypeDetailRenderer:FormDetailViewRenderer = new FormDetailViewRenderer(VIEW_CONTAINER.exerciseTypeDetail,exerciseTypeDefinition,new CreatedByPermissionChecker(),BootstrapFormConfigHelper.getInstance());\n\n            let exerciseTypeDetailView:DetailView = new DetailViewImplementation(\n                {\n                    resultsContainerId: VIEW_CONTAINER.exerciseTypeDetail,\n                    dataSourceId: VIEW_NAME.exerciseTypes\n                },exerciseTypeDetailRenderer);\n            let viewLinker:LinkedCollectionDetailController = new LinkedCollectionDetailController(STATE_NAMES.exerciseTypes,exerciseTypes);\n            viewLinker.addLinkedDetailView(exerciseTypeDetailView);\n            this.sideBar.onDocumentLoaded();\n            let startingDisplayOrder = BasicObjectDefinitionFactory.getInstance().generateStartingDisplayOrder(exerciseTypeDefinition);\n            exerciseTypeDetailView.initialise(startingDisplayOrder,false,true);\n\n            const detailForm:Form|null = exerciseTypeDetailRenderer.getForm();\n\n            if (detailForm) {\n                logger(`Setting up validation rules for ${detailForm.getId()}`);\n                logger(detailForm);\n                ValidationHelper.getInstance().setupValidationForExerciseTypeDetailsForm(detailForm);\n            }\n\n            // setup the event handling for the create new exercise type button\n            let createExerciseType = <HTMLButtonElement>document.getElementById(BUTTON.createNewExerciseType);\n            logger(`Setting up button for creating exercise types`);\n            logger(createExerciseType);\n            if (createExerciseType) {\n                createExerciseType.addEventListener('click',(event) => {\n                    logger(`Asking view linker to start a new object`);\n                    viewLinker.startNewObject();\n                });\n\n            }\n\n            viewLinker.addListener(Controller.getInstance());\n        }\n    }\n\n\n}\n","\nimport {DRAGGABLE, STATE_NAMES, VIEW_NAME} from \"../../AppTypes\";\n\nimport Controller from \"../../Controller\";\n\n\nimport debug from 'debug';\nimport {\n    AbstractStatefulCollectionView,\n    CollectionViewDOMConfig,\n    CollectionViewEventHandlerDelegateUsingContext,\n    CollectionViewListener,\n    CollectionViewListenerForwarder,\n    ContextDefinition,\n    ContextualInformationHelper,\n    FIELD_CreatedBy, isSameMongo,\n    KeyType,\n    ListViewRendererUsingContext,\n    StateManager,\n    View\n} from \"ui-framework-jps\";\n\n\nconst logger = debug('exercise-types-view');\n\nexport class ExerciseTypesViewUsingContext extends AbstractStatefulCollectionView implements CollectionViewListener {\n\n    private static DOMConfig: CollectionViewDOMConfig = {\n        viewConfig: {\n            resultsContainerId: 'exerciseTypes',\n            dataSourceId: VIEW_NAME.exerciseTypes,\n        },\n        resultsElement: {\n            type: 'a',\n            attributes: [{name: 'href', value: '#'}],\n            classes: 'list-group-item my-list-item truncate-notification list-group-item-action',\n        },\n        keyId: '_id',\n        keyType: KeyType.string,\n        modifiers: {\n            normal: '',\n            inactive: 'list-group-item-light',\n            active: 'list-group-item-primary',\n            warning: ''\n        },\n        icons: {\n            normal: '',\n            inactive: '',\n            active: '',\n            warning: ''\n        },\n        sorter: function(item1, item2) {\n            let result = 1;\n            if (item1.name < item2.name) result = -1;\n            return result;\n        },\n        detail: {\n            containerClasses: 'd-flex w-100 justify-content-between',\n            textElement: {\n                type: 'span',\n                classes: 'mb-1',\n            },\n            select: true,\n            icons:(name:string,item:any) => {\n                if (item.type) {\n                    if (item.type === 'cardio') {\n                        return ['fas fa-running ml-2'];\n                    }\n                    else {\n                        return ['fas fa-dumbbell ml-2'];\n                    }\n                }\n                return [];\n            },\n            delete: {\n                classes: 'btn bg-danger text-white btn-circle btn-md',\n                iconClasses: 'text-black fas fa-trash-alt',\n                attributes:[{name:'data-toggle',value:\"tooltip\"},{name:'data-placement',value:\"right\"},{name:'title',value:\"Delete this exercise type.\"}]\n            },\n            drag: {\n                type: DRAGGABLE.typeExerciseType,\n                from: DRAGGABLE.fromExerciseTypes\n            }\n        },\n        extraActions: [{\n            name: 'addToWorkout',\n            button: {\n                classes:'btn bg-primary text-white btn-circle btn-md mr-1',\n                iconClasses:'fas fa-arrow-alt-circle-right',\n                attributes:[{name:'data-toggle',value:\"tooltip\"},{name:'data-placement',value:\"right\"},{name:'data-html',value:'true'},{name:'title',value:\"Add this <strong>exercise</strong> to the current workout.\"}]\n            }\n        }]\n    };\n\n\n    constructor(stateManager:StateManager) {\n        super(ExerciseTypesViewUsingContext.DOMConfig, stateManager, STATE_NAMES.exerciseTypes);\n        this.renderer = new ListViewRendererUsingContext(this, this);\n        this.eventHandlerDelegate = new CollectionViewEventHandlerDelegateUsingContext(this,<CollectionViewListenerForwarder>this.eventForwarder);\n        this.getIdForItemInNamedCollection = this.getIdForItemInNamedCollection.bind(this);\n        this.getItemId = this.getItemId.bind(this);\n\n        let context:ContextDefinition = ContextualInformationHelper.getInstance().addContextFromView(this,STATE_NAMES.exerciseTypes,'Exercise Types');\n        ContextualInformationHelper.getInstance().addActionToContext(context,'addToWorkout','Add To Workout',this.eventHandlerDelegate.eventActionClicked,'fas fa-arrow-alt-circle-right');\n    }\n\n\n    getItemDescription(from: string, item: any): string {\n        let buffer = '';\n        buffer += '<strong>' + item.name + '</strong>: ';\n        if (item.type === 'cardio') {\n            buffer += item.distance + ' km in ' + item.duration;\n        }\n        else {\n            buffer += item.sets + ' sets of ' + item.reps + ' reps in ' + item.duration;\n        }\n        buffer += '<br/>';\n        return buffer;\n    }\n\n\n    canDeleteItem(view: View, selectedItem: any): boolean {\n        logger(`Can Delete ${selectedItem}`);\n        logger(selectedItem[FIELD_CreatedBy]);\n        if (selectedItem[FIELD_CreatedBy]) {\n            if (selectedItem[FIELD_CreatedBy] === Controller.getInstance().getLoggedInUsername()) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    compareItemsForEquality(item1:any, item2:any) :boolean {\n        return isSameMongo(item1,item2);\n    }\n\n    getIdForItemInNamedCollection(name: string, item: any) {\n        return item._id;\n    }\n\n    renderDisplayForItemInNamedCollection(containerEl: HTMLElement, name: string, item: any): void {\n        containerEl.innerHTML =  item.name;\n    }\n\n    hasPermissionToDeleteItemInNamedCollection(name: string, item: any): boolean {\n        logger(`Has delete permission ${item}`);\n        logger(item[FIELD_CreatedBy]);\n        if (item[FIELD_CreatedBy]) {\n            if (item[FIELD_CreatedBy] === Controller.getInstance().getLoggedInUsername()) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    itemAction(view: View, actionName: string, selectedItem: any) {\n        super.itemAction(view, actionName, selectedItem);\n        // @ts-ignore\n        if (actionName === ExerciseTypesViewUsingContext.DOMConfig.extraActions[0].name) {\n            // add the exercise type the current workout\n            Controller.getInstance().addExerciseToCurrentWorkout(selectedItem);\n        }\n    }\n\n\n}\n\n","\nimport {STATE_NAMES, VIEW_NAME} from \"../../AppTypes\";\nimport Controller from \"../../Controller\";\n\nimport {WorkoutSummaryRenderer} from \"../renderer/WorkoutSummaryRenderer\";\nimport {\n    AbstractStatefulCollectionView,\n    CollectionViewDOMConfig,\n    CollectionViewListener, isSameMongo,\n    KeyType, View\n} from \"ui-framework-jps\";\n\n\nexport class WorkoutSummaryView extends AbstractStatefulCollectionView implements CollectionViewListener {\n\n    private static DOMConfig: CollectionViewDOMConfig = {\n        viewConfig: {\n            resultsContainerId: 'workoutSummaryChart',\n            dataSourceId: VIEW_NAME.workoutSummary,\n        },\n        resultsElement:{\n            type: 'canvas',\n            classes: '',\n        },\n        keyId: '_id',\n        keyType: KeyType.string,\n        detail: {\n            containerClasses: '',\n            textElement: {\n                type: '',\n                classes: '',\n            },\n            select: false,\n        },\n    }\n\n\n    constructor() {\n        super(WorkoutSummaryView.DOMConfig, Controller.getInstance().getStateManager(), STATE_NAMES.workouts);\n        this.renderer = new WorkoutSummaryRenderer(this, this);\n    }\n\n    canDeleteItem(view: View, selectedItem: any): boolean {\n        return false;\n    }\n\n    compareItemsForEquality(item1: any, item2: any): boolean {\n        return isSameMongo(item1, item2);\n    }\n\n    getIdForItemInNamedCollection(name: string, item: any) {\n        return item._id;\n    }\n\n\n    renderDisplayForItemInNamedCollection(containerEl: HTMLElement, name: string, item: any): void {}\n\n    hasPermissionToDeleteItemInNamedCollection(name: string, item: any): boolean {\n        return false;\n    }\n\n    hasPermissionToActionItemInNamedCollection(actionName: string, name: string, item: any): boolean {\n        return false;\n    }\n\n    renderBackgroundForItemInNamedCollection(containerEl: HTMLElement, name: string, item: any) {}\n\n}\n\n","import {DRAGGABLE, STATE_NAMES, VIEW_NAME} from \"../../AppTypes\";\nimport Controller from \"../../Controller\";\n\nimport debug from 'debug';\nimport moment from \"moment\";\nimport Chart from 'chart.js/auto';\nimport App from \"../../App\";\nimport {\n    AbstractStatefulCollectionView, addDurations,\n    CarouselDOMConfig,\n    CarouselViewRendererUsingContext,\n    CollectionViewEventHandlerDelegateUsingContext,\n    CollectionViewListener,\n    CollectionViewListenerForwarder,\n    ContextDefinition,\n    ContextualInformationHelper, isSameMongo,\n    KeyType, Modifier,\n    RowPosition,\n    truncateString,\n    View\n} from \"ui-framework-jps\";\n\nconst logger = debug('workouts-view');\n\ntype ExerciseSummary = {\n    weight:number,\n    distance:number,\n    duration:string\n}\n\ntype ChartRef = {\n    _id:string,\n    chart:Chart|null\n}\n\n\n\n\nexport class WorkoutsViewUsingContext extends AbstractStatefulCollectionView implements CollectionViewListener {\n\n    private static DOMConfig: CarouselDOMConfig = {\n        itemsPerRow: {\n            small:1,\n            medium:2,\n            large: 3,\n            xlarge: 4\n        },\n        rowContainer: {\n            classes: \"carousel-item\",\n            type: 'div',\n        },\n        activeRow: {\n            type: '',\n            classes: 'active',\n        },\n        activeRowPosition:RowPosition.last,\n        row: {\n            classes: \"row\",\n            type: 'div',\n        },\n        multipleItemsPerRowContainer: {\n            type: 'div',\n            classes: 'col-sm-12 col-md-4 col-lg-3 mb-2',\n        },\n        actionContainer: {\n            type:'div',\n            classes:'card-footer d-flex w-100 justify-content-end'\n        },\n        collectionConfig: {\n            viewConfig: {\n                resultsContainerId: 'workouts',\n                dataSourceId: VIEW_NAME.workouts,\n                drop: {\n                    acceptTypes: [DRAGGABLE.typeExerciseType],\n                    acceptFrom: [DRAGGABLE.fromExerciseTypes]\n                }\n            },\n            resultsElement: {\n                type: 'div',\n                classes: 'card',\n            },\n            keyId: '_id',\n            keyType: KeyType.string,\n            modifiers: {\n                normal:'bg-light',\n                inactive:'bg-light',\n                active:'bg-light',\n                warning:'bg-light',\n            },\n            detail: {\n                containerClasses: 'card-body',\n                textElement: {\n                    classes: '',\n                    type: 'div'\n                },\n                select: true,\n                delete: {\n                    classes:'btn btn-danger btn-circle btn-md',\n                    iconClasses:'fas fa-trash-alt text-white',\n                    attributes:[{name:'data-toggle',value:\"tooltip\"},{name:'data-placement',value:\"top\"},{name:'title',value:\"Delete this workout\"}]\n                },\n                background: {\n                    type:'div',\n                    classes:'',\n                },\n            },\n            extraActions: [\n                {\n                    name: 'template',\n                    button: {\n                        text: '',\n                        classes: 'btn btn-primary btn-circle btn-md mr-2',\n                        iconClasses: 'fas fa-copy',\n                        attributes:[{name:'data-toggle',value:\"tooltip\"},{name:'data-placement',value:\"top\"},{name:'title',value:\"Add the exercises from this workout to the current workout.\"}]\n                    },\n\n                },\n                {\n                    name: 'continue',\n                    button: {\n                        text: '',\n                        iconClasses:'text-white fas fa-clipboard-list',\n                        classes: 'btn btn-warning btn-circle btn-md mr-2',\n                        attributes:[{name:'data-toggle',value:\"tooltip\"},{name:'data-placement',value:\"top\"},{name:'title',value:\"Continue this current workout\"}]\n                    },\n                }\n            ],\n\n        },\n    }\n\n    private chartRefs:ChartRef[];\n\n\n    constructor() {\n        super(WorkoutsViewUsingContext.DOMConfig.collectionConfig, Controller.getInstance().getStateManager(), STATE_NAMES.workouts);\n        this.renderer = new CarouselViewRendererUsingContext(this, this,WorkoutsViewUsingContext.DOMConfig);\n        this.eventHandlerDelegate = new CollectionViewEventHandlerDelegateUsingContext(this,<CollectionViewListenerForwarder>this.eventForwarder);\n        this.chartRefs = [];\n\n        this.getIdForItemInNamedCollection = this.getIdForItemInNamedCollection.bind(this);\n        this.getItemId = this.getItemId.bind(this);\n\n        let context:ContextDefinition = ContextualInformationHelper.getInstance().addContextFromView(this,STATE_NAMES.workouts,'Workouts');\n        ContextualInformationHelper.getInstance().addActionToContext(context,'template','Copy exercises to Current Workout',this.eventHandlerDelegate.eventActionClicked,'fas fa-copy');\n        ContextualInformationHelper.getInstance().addActionToContext(context,'continue','Continue Current Workout',this.eventHandlerDelegate.eventActionClicked,'fas fa-clipboard-list');\n\n    }\n\n    getItemDescription(from: string, item: any): string {\n        let buffer = '';\n        if (item.exercises) {\n            item.exercises.forEach((exercise:any) => {\n                buffer += `<strong>${exercise.name}</strong>: `;\n                if (exercise.type === 'cardio') {\n                    buffer += `${exercise.distance} km in ${exercise.duration}`;\n                }\n                else {\n                    buffer += `${exercise.sets} sets of ${exercise.reps} reps in ${exercise.duration}`;\n                }\n                buffer += `<br/>`;\n            });\n        }\n        return buffer;\n    }\n\n    canDeleteItem(view: View, selectedItem: any): boolean {\n        return (selectedItem.completed);\n    }\n\n    compareItemsForEquality(item1: any, item2: any): boolean {\n        return isSameMongo(item1, item2);\n    }\n\n    getItemId(from: string, item: any): string {\n        return this.getIdForItemInNamedCollection(from,item);\n    }\n\n    getIdForItemInNamedCollection(name: string, item: any) {\n        return item._id;\n    }\n\n\n\n\n    private calculateExerciseSummary(item:any) : ExerciseSummary {\n        let result:ExerciseSummary = {\n            weight:0,\n            distance:0,\n            duration:'00:00'\n        };\n\n        if (item.exercises) {\n            for (let index = 0;index < item.exercises.length;index++) {\n                const exercise = item.exercises[index];\n                result.weight += exercise.weight;\n                result.distance += exercise.distance;\n                result.duration = addDurations(result.duration,exercise.duration);\n            }\n        }\n        return result;\n    }\n\n    renderDisplayForItemInNamedCollection(containerEl: HTMLElement, name: string, item: any): void {\n        let summary = this.calculateExerciseSummary(item);\n        let buffer = '';\n        buffer += `<h5 class=\"card-title\">`;\n        if (item.name) {\n            buffer+= `${item.name}</h5>`;\n            buffer += `<h6 class=\"card-subtitle\">${moment(item.createdOn, 'YYYYMMDDHHmmss').format('ddd, DD/MM/YYYY HH:mm')}</h6>`;\n        }\n        else {\n            if (item.completed) {\n                buffer += `${moment(item.createdOn, 'YYYYMMDDHHmmss').format('ddd, DD/MM/YYYY HH:mm')}</h5>`;\n            } else {\n                buffer += 'Current</h5>';\n            }\n\n        }\n        buffer += `<ul class=\"list-group list-group-flush\">`;\n        buffer += `<li class=\"list-group-item\"><strong>Duration:</strong> ${summary.duration}</li>`;\n        if (summary.weight > 0)   buffer += `<li class=\"list-group-item\"><strong>Total Weight:</strong> ${summary.weight}</li>`;\n        if (summary.distance > 0) buffer += `<li class=\"list-group-item\"><strong>Total Distance: </strong> ${summary.distance}</li>`;\n        buffer += `</ul>`;\n        containerEl.innerHTML = buffer;\n    }\n\n\n    hasPermissionToDeleteItemInNamedCollection(name: string, item: any): boolean {\n        return (item.completed);\n    }\n\n    hasPermissionToActionItemInNamedCollection(actionName: string, name: string, item: any): boolean {\n        let result = false;\n        if (actionName === 'template') {\n            if ((item.completed) && (item.completed === true)) {\n                result = true;\n            }\n        }\n        if (actionName === 'continue') {\n            if (item.completed === false) {\n                result = true;\n            }\n        }\n        return result;\n    }\n\n    getModifierForItemInNamedCollection(name: string, item: any): Modifier {\n        let result = Modifier.inactive;\n        if (item.completed) {\n            if (item.completed !== true) {\n                result = Modifier.active;\n            }\n        }\n        return result;\n    }\n\n    renderBackgroundForItemInNamedCollection(containerEl: HTMLElement, name: string, item: any) {\n        /*\n        Remove a previous chart reference\n         */\n        let foundIndex = this.chartRefs.findIndex((ref:any) => ref._id === item._id);\n        if (foundIndex) {\n            //this.chartRefs[foundIndex].chart?.destroy();\n            logger(`Removing old chart reference for workout ${item._id}`);\n            this.chartRefs.splice(foundIndex,1);\n        }\n\n\n\n        logger(`Rendering chart for`);\n        logger(item);\n        // we are going to render a chart for the workout\n        if (item.exercises) {\n            const dataSourceKeyId = this.getDataSourceKeyId();\n            const resultDataKeyId = this.getIdForItemInNamedCollection(name, item);\n\n            let canvas = document.createElement('canvas');\n            //browserUtil.addAttributes(canvas,[{name:'style',value:'height:100%; width:100%'}]);\n            canvas.setAttribute(this.collectionUIConfig.keyId, resultDataKeyId);\n            canvas.setAttribute(dataSourceKeyId, this.collectionUIConfig.viewConfig.dataSourceId);\n            // chart labels are the exercise names (shortened to 10 characters)\n\n\n            let labels:string[] = [];\n            let data:any[] = [];\n            let bgColour:string[] = []\n            let brColour:string[] = [];\n\n            item.exercises.forEach((exercise: any) => {\n                labels.push(truncateString(exercise.name, 10));\n                if (exercise.type === 'cardio') {\n                    data.push(exercise.distance);\n                    bgColour.push(WorkoutsViewUsingContext.bgCardio);\n                    brColour.push(WorkoutsViewUsingContext.borderCardio);\n                }\n                else {\n                    data.push(exercise.weight);\n                    bgColour.push(WorkoutsViewUsingContext.bgStrength);\n                    brColour.push(WorkoutsViewUsingContext.borderStrength);\n                }\n            });\n            let chartData = {\n                labels: labels,\n                datasets: [{\n                    label:'Exercises',\n                    data: data,\n                    backgroundColor: bgColour,\n                    borderColor: brColour,\n                    borderWidth: 1\n                }]\n            };\n\n\n            const config = {\n                type: 'bar',\n                data: chartData,\n                options: {\n                    responsive: false,\n                    animation:false,\n                    maintainAspectRatio:false,\n                    scales: {\n                        y: {\n                            beginAtZero: true\n                        }\n                    }\n                },\n            };\n\n            logger(config);\n            try {\n                // @ts-ignore\n                let ref:ChartRef = {_id:item._id, chart: new Chart(canvas, config)};\n                this.chartRefs.push(ref);\n                containerEl.appendChild(canvas);\n            }\n            catch (err) {\n                console.log(err);\n            }\n\n        }\n    }\n\n    private static bgStrength = 'rgba(255, 0, 0, 0.2)';\n    private static bgCardio = 'rgba(0, 50, 255, 0.2)';\n\n    private static borderStrength ='rgb(255, 50, 0)';\n    private static borderCardio = 'rgb(0, 50 , 255)';\n\n    public itemAction(view: View, actionName: string, selectedItem: any) {\n        super.itemAction(view, actionName, selectedItem);\n        // @ts-ignore\n        if (actionName === WorkoutsViewUsingContext.DOMConfig.collectionConfig.extraActions[0].name) {\n            // add the current list of exercises to the current workout\n            Controller.getInstance().addWorkoutExercisesToCurrentWorkout(selectedItem);\n\n        }\n        // @ts-ignore\n        if (actionName === WorkoutsViewUsingContext.DOMConfig.collectionConfig.extraActions[1].name) {\n            // continue the current workout\n            App.getInstance().showCurrentWorkout();\n\n\n        }\n    }\n\n\n}\n\n","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn-bd\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn-bd.js\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-in\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-in.js\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-sg\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./en-sg.js\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-mx\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-mx.js\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fil\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fil.js\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-deva\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-deva.js\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./oc-lnc\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./oc-lnc.js\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tk\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tk.js\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-mo\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-mo.js\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"app\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktemplate_feo_react_babel\"] = self[\"webpackChunktemplate_feo_react_babel\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendor\"], () => (__webpack_require__(\"./src/App.ts\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["localStorage","debug","console","logger","getInstance","App","constructor","Controller","window","getCurrentUser","setupNavigationItemHandling","document","NAVIGATION","setupUserSearchViews","UserSearchSidebar","setupChatViews","ChatRoomsSidebar","onDocumentLoad","containerId","WorkoutSummarySidebar","container","ContextualInformationHelper","hideAllSideBars","handleShowUserSearch","event","API_Config","handleShowWorkoutSummary","handleShowCurrentWorkout","handleShowExerciseTypes","handleShowChat","countChanged","buffer","newCount","addingExerciseToCurrentWorkout","STATE_NAMES","showCurrentWorkout","$","Decorator","users","chatLogs","exerciseTypes","workouts","recentUserSearches","login","showMyWorkouts","userSearchId","exerciseTypesId","chatId","workoutSummary","currentWorkout","DRAGGABLE","typeUser","typeExerciseType","fromUserSearch","fromFavourites","fromExerciseTypes","VIEW_NAME","blockedUsers","chatLog","favouriteUsers","userSearch","exercises","VIEW_CONTAINER","exerciseTypeDetail","currentWorkoutDetail","exerciseDropZone","BUTTON","createNewExerciseType","completeWorkout","INPUT","workoutName","cLogger","cLoggerDetail","connectToApplication","restSM","RESTApiStateManager","stateName","serverURL","api","isActive","idField","aggregateSM","memorySM","asyncSM","setupDataObjectDefinitions","exerciseTypeDefinition","ObjectDefinitionRegistry","BasicObjectDefinitionFactory","FieldType","name","value","workoutDefinition","exercisesFieldDefinition","KeyType","onDocumentLoaded","socketListerDelegate","SocketManager","chatManager","ChatManager","NotificationController","getStateManager","getListenerName","isLoggedIn","getLoggedInUserId","result","loggedInUser","getLoggedInUsername","handleMessage","stateChangedItemAdded","stateChangedItemRemoved","stateChangedItemUpdated","stateChanged","getServerAPIURL","create","delete","update","addExerciseToCurrentWorkout","copyOfExercise","exerciseType","v4","addWorkoutExercisesToCurrentWorkout","workout","exercise","filterResults","hasPermissionToUpdateItem","item","hasPermissionToDeleteItem","hasPermissionToEditField","slLogger","handleDataChangedByAnotherUser","message","type","user","changeUser","_id","username","stateObj","NotificationManager","NotificationType","ValidationHelper","setupValidationForExerciseTypeDetailsForm","rule","targetDataFieldId","response","ConditionResponse","conditions","sourceDataFieldId","comparison","ComparisonType","values","ValidationManager","avLogger","currentChart","generateRandomExerciseColourAndBorder","isStrength","red","blue","green","newColour","Math","transparency","background","border","createDisplayElementForCollectionItem","setDisplayElementsForCollectionInContainer","sevenWorkouts","newState","exerciseNames","exerciseBG","exerciseBR","labels","label","moment","exerciseName","foundIndex","colours","datasets","itemBG","itemBR","data","bg","br","didntFindExercise","weight","distance","dataset","backgroundColor","borderColor","borderWidth","order","lineDataSet","chartData","config","options","responsive","animation","maintainAspectRatio","scales","y","beginAtZero","SidebarPrefs","id","expandedSize","location","SidebarLocation","right","SidebarContainers","list","detail","CurrentWorkoutSidebar","left","ExerciseTypesSidebar","bottom","workoutDef","workoutNameEl","exerciseTypeDetailRenderer","BootstrapFormConfigHelper","exerciseTypeDetailView","resultsContainerId","dataSourceId","viewLinker","startingDisplayOrder","detailForm","createExerciseType","createWorkout","saveWorkout","managerName","newValue","itemRemoved","itemNewValue","DOMConfig","viewConfig","drop","acceptFrom","acceptTypes","resultsElement","attributes","classes","keyId","keyType","modifiers","normal","inactive","active","warning","icons","containerClasses","textElement","select","iconClasses","CurrentWorkoutExercisesView","getItemDescription","canDeleteItem","compareItemsForEquality","isSameMongo","getIdForItemInNamedCollection","renderDisplayForItemInNamedCollection","containerEl","hasPermissionToDeleteItemInNamedCollection","itemDropped","sorter","item1","item2","drag","from","extraActions","button","ExerciseTypesViewUsingContext","context","selectedItem","itemAction","actionName","WorkoutSummaryView","hasPermissionToActionItemInNamedCollection","renderBackgroundForItemInNamedCollection","itemsPerRow","small","medium","large","xlarge","rowContainer","activeRow","activeRowPosition","RowPosition","row","multipleItemsPerRowContainer","actionContainer","collectionConfig","text","WorkoutsViewUsingContext","duration","sets","reps","getItemId","calculateExerciseSummary","index","addDurations","summary","getModifierForItemInNamedCollection","Modifier","ref","dataSourceKeyId","resultDataKeyId","canvas","bgColour","brColour","truncateString","chart","bgStrength","bgCardio","borderStrength","borderCardio"],"sourceRoot":""}